{% extends 'base.html.twig' %}

{% block title %}Works
{% endblock %}

{% block body %}
	<h1 class="uk-heading-line uk-text-center">
		<span>Works</span>
	</h1>

	<div class="uk-container">
		{% if projects|length > 0 %}
			<div class="uk-grid-small uk-flex-center uk-child-width-1-2@s uk-child-width-1-3@m uk-grid-match" uk-grid uk-scrollspy="target: > div; cls: uk-animation-slide-bottom-small; delay: 150">
				{% for project in projects %}
					{% set heights = ['200px', '250px', '300px', '350px', '400px'] %}
					{% set heightIndex = loop.index0 % heights|length %}
					{% set randomHeight = heights[heightIndex] %}

					<div>
						<a href="{{ path('app_project_show', {'id': project.id}) }}">
							<div class="uk-card uk-card-default uk-card-hover uk-overflow-hidden uk-border-rounded project-card" style="height: {{ randomHeight }};
																											                                                                                                    background-image: url('{{ asset('assets/images/uploads/' ~ project.mainImage) }}');
																											                                                                                                    background-size: cover;
																											                                                                                                    background-position: center;
																											                                                                                                    position: relative;">

								<div class="overlay"></div>

								<div class="uk-card-body uk-flex uk-flex-column uk-flex-center uk-text-center uk-light" style="height: 100%; position: relative; z-index: 1;">
									<h3 class="uk-card-title uk-margin-remove uk-text-bold" style="color: white;">
										{{ project.title }}
									</h3>
								</div>
							</div>
						</a>
					</div>
				{% endfor %}
			</div>
		{% else %}
			<h3 class="uk-text-center uk-margin-large-top">Ajoute tes projets ici mon lapin üê∞</h3>
		{% endif %}

		<div class="uk-text-center uk-margin-top" uk-scrollspy="cls: uk-animation-fade; delay: 300">
			<a href="{{ path('app_home') }}" class="uk-button uk-button-default uk-border-pill">‚Üê Back to Home</a>

			{% if is_granted('ROLE_ADMIN') %}
				<a href="{{ path('app_project_new') }}" class="mobile-margin-btn uk-button uk-button-primary uk-border-pill uk-margin-left">
					Ajouter un projet
				</a>
			{% endif %}
		</div>
	</div>
{% endblock %}
